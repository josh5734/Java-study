## 6. 클래스(Class)   
### 1. 클래스 정의하는 방법
* 예전에 클래스에 대해서 처음 배울 때, 클래스란 같은 모양의 쿠키를 찍어내는 틀이라고 들었다. 지금에 와서 이해해보면 클래스란 어떠한 객체의 변수와 메소드를 따로 빼서 정리해둔 집합이라고 생각한다. 특히, 이 객체가 특별한 의미를 가지거나 반복해서 사용되는 등의 이유가 클래스를 쓰는 이유가 될 것 같다고 생각한다.
* 클래스를 작성할 때는 몇 가지 규칙이 있다.
  1. 하나 이상의 문자로 이루어져야 한다.
  2. 첫 번째 글자에는 숫자가 올 수 없다.
  3. $,_ 외 특수문자는 사용할 수 없다.
  4. 자바 명령어, 키워드는 사용할 수 없다.
  5. 이름은 대소문자를 구분하고, 보통 첫번째 글자는 대문자로 작성한다)

### 2. 클래스 내 변수 정의하는 방법
* 우선 **인스턴스 변수와 클래스 변수(Static variable)에 대해 구분**하고 가면 좋을 것 같다. 인스턴스 변수는 각 객체가 생성되었을 때 그 객체 안에 존재하는 변수를 의미하고, 클래스 변수는 각 객체가 아닌 클래스 안에 존재하는 변수다. **클래스 변수는 우리가 흔히 아는 것처럼 인스턴스 간 데이터 공유가 필요한 상황에서** 사용한다.
* 외부에서 변수에 접근할 때 인스턴스 변수는 각 인스턴스를 통해 접근하고, 클래스 변수는 클래스 자체를 통해 접근한다. 아래 예시를 보자.
```java
class Car{  // 인스턴스 변수
  int carAge;
}
class Car{  // Static variable
  static int totalCarNumber;
}
...
public static void main(String[] args){
  Car oldCar = new Car();
  oldCar.carAge++;      // 인스턴스의 변수 접근
  Car.totalCarNumber++;   // 클래스가 공유하는 변수 접근
```
* 클래스 변수는 컴파일을 하면서 객체를 생성하기 이전에 메모리 공간에 할당되고 초기화된다. 따라서 생성자를 통해서 클래스 변수를 초기화해서는 안된다. 그리고 애초에 클래스 변수는 객체에 독립적이기 때문에 객체마다 생성자에서 초기화하는 것도 말이 안된다.


### 3. 클래스 메서드 정의하는 방법
* 클래스 메서드 역시 마찬가지로 **인스턴스 메서드**, **클래스 메서드**가 존재한다.
```
* 클래스 메서드(static method)는 인스턴스와 관계 없이 메모리 공간에 할당되기 때문에 바로 사용 가능하고, 
* 클래스명을 통해 접근이 가능하다. 클래스 변수와 거의 비슷하다고 생각하면 된다. 
```
* 클래스 변수는 대체로 외부에 기능을 제공하기 위한 메서드일 때 사용한다.
* 인스턴스 메서드는 각 객체마다 똑같은 작업을 하지만 다른 결과를 낸다고 생각하면 좋을 것 같다. 왜냐하면 각 객체마다 가지고 있는 인스턴스가 있을테고, 인스턴스 메서드는 대부분 이 변수들을 가지고 메서드를 구성하기 때문이다. 반대로, 클래스 메서드는 이러한 인스턴스 변수의 값을 참조하거나 수정하지 않아야 한다. 그리고 애초에 클래스 메서드와 인스턴스 변수는 저장된 공간이 다르기 때문에 접근이 불가능하다.


### 4. 클래스 생성자 정의하는 방법
* 생성자는 객체 생성 시 초기화를 담당한다. 필드를 초기화하거나, 메소드를 호출하여 객체를 사용할 준비를 한다.
* 'new' 연산자에 의해 생성자가 성공적으로 실행되면 힙(heap)영역에 객체가 생성되고 객체의 주소가 리턴된다. 리턴된 객체의 주소는 클래스 타입 변수에 저장되어 객체에 접근할 때 이용된다.
* 클래스 생성자는 여러 방식으로 오버로딩(Overloading)하여 만들 수 있다. 상속 관계에 있는 클래스에서 자식 클래스는 부모 클래스의 변수를 가지고 있기 때문에 super constructor를 통해 부모 변수를 초기화하기도 한다.

### 5. 클래스 this 키워드 이해하기
```
* this 키워드는 이 클래스를 기반으로 생성된 인스턴스를 가리키는 참조라는 뜻이다.   
```
![image](https://user-images.githubusercontent.com/61929745/113526052-532d4780-95f3-11eb-967c-43ed5ced7a38.png)   
출처: https://blog.naver.com/force44/130095188664   
* 위 예시를 보면, 인스턴스 생성 시 각 인스턴스는 새로운 메모리에 할당되지만 **인스턴스 메서드는 Method area에 존재하는 하나를 공유한다. 그러니까, 각 인스턴스마다 인스턴스 메서드가 따로 정의되지는 않는 것이다.**
* 그런데 인스턴스 메서드가 호출되면 같은 메서드를 실행하게 될텐데, **어떻게 인스턴스 멤버마다 다른 인스턴스 변수를 참조하는 식으로 활용할 수 있을까?** 이 질문에 대한 답이 **this** 키워드다.
* 자바의 모든 인스턴스 메서드는 this를 기본적으로 가지고 있다가 해당 메서드를 호출한 메서드의 this의 값을 넘겨받는다. 메서드에서 사용되는 모든 필드는 사실 this로 접근하는 것이다.
* 
### 6. 객체 만드는 방법 (new 키워드 이해하기)
* 자바 객체를 생성하는 방법은 간단하다. 
> 클래스 객체 변수 = new 클래스명();
* new는 클래스 타입의 인스턴스를 생성해주는 역할을 한다.
```
* new 연산자를 통해서 Heap memory 영역에 이 객체가 생성될 공간을 마련하고, 그 공간의 reference value를 객체에게 할당해준다. 
* 그리고 이어서 생성자를 호출하게 된다. 
* 그러니까 자바의 객체가 레퍼런스 타입의 변수가 될 수 있게 해주는 장본인이 new 키워드인 것이다.   
```
![image](https://user-images.githubusercontent.com/61929745/113526435-fdf23580-95f4-11eb-96d7-fd9cfcd7f5b1.png)   
출처: https://m.blog.naver.com/PostView.nhn?blogId=heartflow89&logNo=220955262405&proxyReferer=https:%2F%2Fwww.google.com%2F   
